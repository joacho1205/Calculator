# [Spring 4기] CH 2 계산기 과제

## 필수 기능 가이드

### Lv 1. 클래스 없이 기본적인 연산을 수행할 수 있는 계산기 만들기
- [ ]  **양의 정수(0 포함)를 입력받기**
    - [ ]  Scanner를 사용하여 양의 정수 2개(0 포함)를 전달 받을 수 있습니다.
    - [ ]  양의 정수는 각각 하나씩 전달 받습니다.
    - [ ]  양의 정수는 적합한 타입으로 선언한 변수에 저장합니다.
- [ ]  **사칙연산 기호(➕,➖,✖️,➗)를 입력받기**
    - [ ]  Scanner를 사용하여 사칙연산 기호를 전달 받을 수 있습니다.
    - [ ]  사칙연산 기호를 적합한 타입으로 선언한 변수에 저장합니다. (`charAt(0)`)
- [ ]  **위에서 입력받은 양의 정수 2개와 사칙연산 기호를 사용하여 연산을 진행한 후 결과값을 출력하기**
    - [ ]  키워드 : `if` `switch`
    - [ ]  사칙연산 기호에 맞는 연산자를 사용하여 연산을 진행합니다.
    - [ ]  입력받은 연산 기호를 구분하기 위해 제어문을 사용합니다. (예를 들면 if, switch)
    - [ ]  연산 오류가 발생할 경우 해당 오류에 대한 내용을 정제하여 출력합니다.
- [ ]  **반복문을 사용하되, 반복의 종료를 알려주는 “exit” 문자열을 입력하기 전까지 무한으로 계산을 진행할 수 있도록 소스 코드를 수정하기**
    - [ ]  키워드 : 무한으로 반복, 수정하기 (처음부터 무한 반복하는 것이 아니라, 위 스텝별로 진행하며 수정)
    - [ ]  반복문을 사용합니다. (예를 들어, for, while…)
     
### Lv 2. 클래스를 적용해 기본적인 연산을 수행할 수 있는 계산기 만들기
- [ ]  사칙연산을 수행 후, 결과값 반환 메서드 구현 & 연산 결과를 저장하는 컬렉션 타입 필드를 가진 Calculator 클래스를 생성
    - [ ]  사칙연산을 수행한 후, 결과값을 반환하는 메서드 구현
    - [ ]  연산 결과를 저장하는 컬렉션 타입 필드를 가진 Calculator 클래스를 생성
    - [ ]  1) 양의 정수 2개(0 포함)와 연산 기호를 매개변수로 받아 사칙연산(➕,➖,✖️,➗) 기능을 수행한 후 2) 결과 값을 반환하는 메서드와 연산 결과를 저장하는 컬렉션 타입 필드를 가진 Calculator 클래스를 생성합니다.
 - [ ]  **Lv 1에서 구현한 App 클래스의 main 메서드에 Calculator 클래스가 활용될 수 있도록 수정**
    - [ ]  연산 수행 역할은 Calculator 클래스가 담당
        - [ ]  연산 결과는 Calculator 클래스의 연산 결과를 저장하는 필드에 저장
    - [ ]  소스 코드 수정 후에도 수정 전의 기능들이 반드시 똑같이 동작해야합니다.
- [ ]  **App 클래스의 main 메서드에서 Calculator 클래스의 연산 결과를 저장하고 있는 컬렉션 필드에 직접 접근하지 못하도록 수정 (캡슐화)**
    - [ ]  간접 접근을 통해 필드에 접근하여 **가져올** 수 있도록 구현합니다. (Getter 메서드)
    - [ ]  간접 접근을 통해 필드에 접근하여 **수정할** 수 있도록 구현합니다. (Setter 메서드)
    - [ ]  위 요구사항을 모두 구현 했다면 App 클래스의 main 메서드에서 위에서 구현한 메서드를 활용 해봅니다.
- [ ]  Calculator 클래스에 저장된 연산 결과들 중 가장 먼저 저장된 데이터를 삭제하는 기능을 가진 메서드를 구현한 후 App 클래스의 main 메서드에 삭제 메서드가 활용될 수 있도록 수정
    - [ ]  키워드 : `컬렉션`
        - [ ]  컬렉션에서 ‘값을 넣고 제거하는 방법을 이해한다.’가 중요합니다!

#### 트러블슈팅
1
# 문제
연산 기호같은 문자를 Scanner로 입력해야 하는 경우는 처음 해봐서, 변수 operator를 String으로 선언해도 오류가 나고 char로 선언해도 오류가 발생했다.
# 해결
chatAt(0) 이란, 문자열 내 특정 인덱스의 문자를 반환하는 메서드이다. 괄호 안에 있는 숫자 0이, 문자열의 인덱스 중 0번째에 있는 글자 하나를 출력해준다는 뜻.
즉 `char operator = sc.next().charAt(0);` 라고 하니 오류가 사라졌다.

2
# 문제
String exit = sc.nextLine(); 이라고 하면 계산 후에 "더 계산하시겠습니까? exit 입력시 종료"와 바로 다음 "첫 번째 숫자를 입력하세요: "가 붙어서 출력되면서 exit를 입력할 자리가 생기지 않는 것을 확인했다.
# 해결
nextLine()과 next()의 차이를 검색해봤다.
- next() :
  - 공백을 기준으로 한 단어 또는 한 문자씩 입력받는다.
  - 버퍼에 입력된 문자나 문자열에서 공백 전까지의 단어를 읽는다.
  - 개행 문자를 가져오지 않는다.
- nextLine() :
   - 문자 또는 엔터를 치기 전까지의 문장 전체를 입력받는다.
   - 버퍼에 입력된 문자열을 개행 문자까지 다 가져온다.
즉, next()는 개행문자(\n)를 무시하고 입력을 받고 nextLine()은 한줄 단위로 입력을 받기 때문에 개행문자(\n)를 포함한다.
따라서 연산기호를 입력하고 엔터를 치는 순간, 더 계산하시겠습니까? 문구에 있는 코드가 nextLine()이였다면 그 엔터까지 포함해서 입력을 받게 되기 때문에 그런 문제가 발생했던 것이고,
next()라고 코드를 작성해야 엔터키를 무시하고 입력을 받을 수 있게 된다.

3
# 문제
처음 두 수의 조건을 단순 int형으로만 선언해서 요구 사항의 조건인 "양의 정수(0 포함)" 이 성립하지 않는다. 음수를 입력해도 똑같이 프로그램이 실행된다.
# 해결
if문을 활용해서 입력받은 수(num1,num2)가 만약 0 이하의 정수라면 "양의 정수(0 포함) 을 입력해주세요." 라는 문구가 출력되도록 한다.

4
# 문제
잘못된 수를 입력하거나, 잘못된 연산 기호를 입력했을 때, 또는 두 번째 수에 0이 입력됐는데 나눗셈을 실행하여 정상적인 result가 나올 수 없을 때, 이러한 상황에 각 스텝별로 다시 돌아와서 입력을 할 수 있어야 한다.
# 해결
문제가 발생했을 때 루프를 만들어 다시 돌아올 수 있도록 하기 위해 while문을 사용하면 되겠다. 그런데 어떻게 사용해야 각 스텝별로 되돌아 오도록 할 수 있을까 생각해보고, 스텝마다 while문을 세부적으로 적용시켜 주었다.
결과적으로, 전체 코드는 while(true) 로 무한루프가 작동하면서 첫 번째 수 입력이 잘못되면 다시 첫 번째 수 입력으로 돌아오는 while문, 두 번째 수도 마찬가지, 연산 기호도 마찬가지로 잘못된 연산 기호가 입력되면
다시 연산 기호를 입력하는 스텝으로 루프된다. 그리고 두 번째 수가 0일 때 나눗셈을 실행하게 되는 경우는, continue 를 사용해서 바로 처음 루프부터 다시 실행하도록 처리했다.

5
# 문제
캡슐화, getter메서드, setter메서드에 대한 학습이 아직 안되었다.
# 해결
getter메서드와 setter메서드에 대한 정의와 활용법을 검색해서 찾아보고 그대로 한번 적용시켜보았다.

6
# 문제
Calculator클래스에서 캡슐화를 했다고 생각되는데, 그럼 기존에 쓰고 있던 public static int operate(int num1, int num2, char operator) {} 에서의 static도 지워야 하는건지 긴가민가 했다.
# 해결
아직 static에 대한 개념이 머리에 없어서 헷갈렸다. 아직도 static에 대한 정리가 잘 안되긴 했지만, Calculator 클래스는 캡슐화를 했기 때문에 static이 없어야 되는 게 맞다고 생각되어서  
public int operate(int num1, int num2, char operator) {} 로 수정을 했다.

7
# 문제
Getter메서드와 Setter메서드를 구현까지는 했는데, App 클래스의 main 메서드에서 Getter메서드와 Setter메서드를 직접 활용해서 데이터를 가져오고 수정하려니 어떻게 해야 할지 모르겠다.
# 해결
아직 이 단계에서 데이터를 저장해놓는 기능을 추가하지 않아서 감이 잡히지 않는 것 같다. 
다음 단계가 바로 저장된 연산 결과들 중 가장 먼저 저장된 데이터를 삭제하는 기능을 가진 메서드를 구현한 후 App 클래스의 main 메서드에 삭제 메서드가 활용될 수 있도록 수정해야 하기 때문에,
먼저 다음 단계인 Queue 자료 구조와 LinkedList를 활용하고 나서 Getter메서드와 Setter메서드를 수정하고 main메서드에 활용될 수 있도록 기능을 구현해보겠다.

8
# 문제
큐에 연산결과를 저장하는 기능까지는 구현했는데, 그 다음 LinkedList 구조로 저장된 데이터를 어떻게 다뤄야 할지 머릿속에 떠오르지 않았다.
# 해결
.isEmpty() , .peek() , .poll() , .equalsIgnoreCase 와 같이 자바 내에서 지원하는 여러 가지 메서드들을 써본 경험이 많이 부족하다. 
사실 이런 메서드들을 전부 다 외우고 머릿속에 들고 다닐 수는 없으니, 검색을 통해 해결해 나가는 능력도 키워나가야겠다.

9
# 문제
Lv1 계산기에서는 나눗셈 연산 중 두 번째 숫자가 0인 경우 continue를 통해 처음 루프도 되돌려 보냈는데, 
Lv2 계산기에서는 연산을 실행하는 operate 메서드를 Calculator 클래스로 옮기면서 operate 메서드가 App클래스의 while(true) 밖으로 나오게 됐다.
# 해결
LV2에서는 continue를 지우고 if문을 추가해 입력받은 연산기호가 '/' 일 때 if(num2 == 0) 이면, Integer.MIN_VALUE 이라는 특수값을 리턴시켜 오류를 나타내주고, 
App클래스의 연산실행 결과 다음에도 if문을 추가해 result에 Integer.MIN_VALUE 이라는 특수값을 리턴받으면 continue를 실행해서 루프 처음으로 되돌아가도록 해주었다.
